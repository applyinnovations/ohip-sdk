openapi: 3.0.1
info:
  contact:
    email: hospitality_apis_ww_grp@oracle.com
  description: "REST API to obtain an OAuth token from the Oracle Hospitality Integration\
    \ Platform.  <p>For authenticating to Distribution APIs please use the Early Release\
    \ OPERA Cloud Distribution Authentication API.</p><br /><br /> Compatible with\
    \ OPERA Cloud release 21.5.0.0.<br /><br /><p> This document and all content within\
    \ is available under the Universal Permissive License v 1.0 (https://oss.oracle.com/licenses/upl).\
    \ Copyright (c) 2020, 2023 Oracle and/or its affiliates.</p>"
  license:
    name: UPL
    url: https://opensource.org/licenses/upl
  termsOfService: https://www.oracle.com/legal/terms.html
  title: oAuth API for OHIP
  version: 21.5.0.0
  x-summary: The OHIP REST API enables you to develop apps that connect to Oracle
    Hospitality products through a single endpoint in the Oracle Hospitality cloud.
externalDocs:
  description: Find out more about Oracle Hospitality
  url: https://docs.oracle.com/en/industries/hospitality/integration_platforms.html
servers:
- url: /oauth/v1
security:
- basicAuth: []
tags:
- description: Authentication service
  name: Authentication
paths:
  /tokens:
    post:
      description: "<p>This is required to access Oracle Hospitality OPERA Cloud REST\
        \ APIs.  </p><h3>Obtaining a token</h3><p>To obtain a token include the following\
        \ headers:</p> <ul><li>A Basic authentication header using the base64 hash\
        \ of your Client ID and Client Secret in the format <code>ClientID:ClientSecret</code>\
        \ - base64 encoded to the Basic Access Authorization standard</li> <li>Your\
        \ application key in the <code>x-app-key</code> header</li></ul> <p>And the\
        \ following body parameters:</p> <h4>Body parameters for obtaining your initial\
        \ access token</h4> <ul><li><strong>grant_type</strong>.  Required to be \"\
        password\" or \"client_credentials\"</strong></li><li><strong>username</strong>.\
        \  If grant_type is password, set this to your OPERA Cloud integration username.</strong></li><li><strong>password</strong>.\
        \  If grant_type is password, set this to your OPERA Cloud integration user's\
        \ password.</li> <li><strong>scope</strong>. If grant_type is client_credentials,\
        \ set this to your assigned scope. </li> </strong></li></ul> <h3>JSON Web\
        \ Token (JWT)</h3><p> An open standard (<a href=\"https://tools.ietf.org/html/rfc7519\"\
        \ title=\"Definition of RFC7519, the standard for JWT tokens\">RFC 7519</a>)\
        \ that defines a compact and self-contained way for securely transmitting\
        \ information between parties as a JSON object. This information can be verified\
        \ and trusted because it is digitally signed.</p><p><strong>OperationId:</strong>getToken</p>"
      operationId: getToken
      parameters:
      - description: Client or Partner's Application Key
        in: header
        name: x-app-key
        required: true
        schema:
          pattern: "^[a-f0-9]{8}-[a-f0-9]{4}-4[a-f0-9]{3}-[89aAbB][a-f0-9]{3}-[a-f0-9]{12}$"
          type: string
      - description: "Global unique ID of the Enterprise. Only while using Client\
          \ Credentials workflow with OCIM environments, users should pass this header."
        in: header
        name: enterpriseId
        schema:
          maxLength: 8
          minLength: 1
          pattern: "^[A-Z0-9]{1,8}$"
          type: string
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/getToken_request'
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAuth2TokenResponse'
          description: OK
        "400":
          content: {}
          description: Bad Request. This error is returned if the authentication information
            provided is not valid.
        "401":
          content: {}
          description: "Unauthorized. Invalid client ID, client secret, username,\
            \ and/or password, and/or scope."
        "403":
          content: {}
          description: Forbidden. This error is returned if the operation is not allowed
            for the request.
      summary: Authenticate with the identity server
      tags:
      - Authentication
      x-internal-id: v1-oauth2Token-post
components:
  parameters:
    x-app-key:
      description: Client or Partner's Application Key
      example: 41ecd082-8997-4c69-af34-2f72b83645ff
      in: header
      name: x-app-key
      required: true
      schema:
        pattern: "^[a-f0-9]{8}-[a-f0-9]{4}-4[a-f0-9]{3}-[89aAbB][a-f0-9]{3}-[a-f0-9]{12}$"
        type: string
    enterpriseId:
      description: "Global unique ID of the Enterprise. Only while using Client Credentials\
        \ workflow with OCIM environments, users should pass this header."
      example: ENT123
      in: header
      name: enterpriseId
      schema:
        maxLength: 8
        minLength: 1
        pattern: "^[A-Z0-9]{1,8}$"
        type: string
  schemas:
    OAuth2TokenResponse:
      description: OAuth2 token object sent as a response to the token request
      properties:
        access_token:
          description: The access token.  Include this in the header for every subsequent
            request.
          type: string
        expires_in:
          description: "Time in seconds for the access token to expire (typically,\
            \ 3600 i.e. 60 minutes)"
          format: int64
          type: integer
        token_type:
          description: The type of access token issued (Bearer).
          type: string
        oracle_tk_context:
          description: Always user_assertion.
          type: string
      required:
      - access_token
      type: object
    getToken_request:
      properties:
        grant_type:
          description: The grant type.  This value will depend on the API you are
            passing the OAuth token to.
          enum:
          - password
          - client_credentials
          type: string
        username:
          description: Your OPERA Cloud integration user name. Required value when
            requesting a token using the password grant.
          type: string
        password:
          description: Your OPERA Cloud integration user password. Required value
            when requesting a token using the password grant.
          type: string
        scope:
          description: Your assigned scope. Required value when requesting a token
            using the client_credentials grant.
          type: string
      required:
      - grant_type
      type: object
  securitySchemes:
    basicAuth:
      scheme: basic
      type: http
x-original-swagger-version: "2.0"
